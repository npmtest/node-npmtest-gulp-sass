<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-gulp-sass/node_modules/gulp-sass/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-gulp-sass">npmtest-gulp-sass (v0.0.5)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-gulp-sass/node_modules/gulp-sass/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">13.75% <small>(11 / 80)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 34)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 9)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">13.75% <small>(11 / 80)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-gulp-sass/node_modules/gulp-sass/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
&nbsp;
var gutil = require('gulp-util');
var through = require('through2');
var clonedeep = require('lodash.clonedeep');
var path = require('path');
var applySourceMap = require('vinyl-sourcemaps-apply');
&nbsp;
var PLUGIN_NAME = 'gulp-sass';
&nbsp;
//////////////////////////////
// Main Gulp Sass function
//////////////////////////////
var gulpSass = <span class="fstat-no" title="function not covered" >function gulpSass(options, sync) {</span>
<span class="cstat-no" title="statement not covered" >  return through.obj(<span class="fstat-no" title="function not covered" >function(file, enc, cb) {</span></span>
<span class="cstat-no" title="statement not covered" >    var opts,</span>
        filePush,
        errorM,
        callback,
        result;
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (file.isNull()) {</span>
<span class="cstat-no" title="statement not covered" >      return cb(null, file);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (file.isStream()) {</span>
<span class="cstat-no" title="statement not covered" >      return cb(new gutil.PluginError(PLUGIN_NAME, 'Streaming not supported'));</span>
    }
<span class="cstat-no" title="statement not covered" >    if (path.basename(file.path).indexOf('_') === 0) {</span>
<span class="cstat-no" title="statement not covered" >      return cb();</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!file.contents.length) {</span>
<span class="cstat-no" title="statement not covered" >      file.path = gutil.replaceExtension(file.path, '.css');</span>
<span class="cstat-no" title="statement not covered" >      return cb(null, file);</span>
    }
&nbsp;
&nbsp;
<span class="cstat-no" title="statement not covered" >    opts = clonedeep(options || {});</span>
<span class="cstat-no" title="statement not covered" >    opts.data = file.contents.toString();</span>
&nbsp;
    // we set the file path here so that libsass can correctly resolve import paths
<span class="cstat-no" title="statement not covered" >    opts.file = file.path;</span>
&nbsp;
    // Ensure `indentedSyntax` is true if a `.sass` file
<span class="cstat-no" title="statement not covered" >    if (path.extname(file.path) === '.sass') {</span>
<span class="cstat-no" title="statement not covered" >      opts.indentedSyntax = true;</span>
    }
&nbsp;
    // Ensure file's parent directory in the include path
<span class="cstat-no" title="statement not covered" >    if (opts.includePaths) {</span>
<span class="cstat-no" title="statement not covered" >      if (typeof opts.includePaths === 'string') {</span>
<span class="cstat-no" title="statement not covered" >        opts.includePaths = [opts.includePaths];</span>
      }
    }
    else {
<span class="cstat-no" title="statement not covered" >      opts.includePaths = [];</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    opts.includePaths.unshift(path.dirname(file.path));</span>
&nbsp;
    // Generate Source Maps if plugin source-map present
<span class="cstat-no" title="statement not covered" >    if (file.sourceMap) {</span>
<span class="cstat-no" title="statement not covered" >      opts.sourceMap = file.path;</span>
<span class="cstat-no" title="statement not covered" >      opts.omitSourceMapUrl = true;</span>
<span class="cstat-no" title="statement not covered" >      opts.sourceMapContents = true;</span>
    }
&nbsp;
    //////////////////////////////
    // Handles returning the file to the stream
    //////////////////////////////
<span class="cstat-no" title="statement not covered" >    filePush = <span class="fstat-no" title="function not covered" >function filePush(sassObj) {</span></span>
<span class="cstat-no" title="statement not covered" >      var sassMap,</span>
          sassMapFile,
          sassFileSrc,
          sassFileSrcPath,
          sourceFileIndex;
&nbsp;
      // Build Source Maps!
<span class="cstat-no" title="statement not covered" >      if (sassObj.map) {</span>
        // Transform map into JSON
<span class="cstat-no" title="statement not covered" >        sassMap = JSON.parse(sassObj.map.toString());</span>
        // Grab the stdout and transform it into stdin
<span class="cstat-no" title="statement not covered" >        sassMapFile = sassMap.file.replace(/^stdout$/, 'stdin');</span>
        // Grab the base file name that's being worked on
<span class="cstat-no" title="statement not covered" >        sassFileSrc = file.relative;</span>
        // Grab the path portion of the file that's being worked on
<span class="cstat-no" title="statement not covered" >        sassFileSrcPath = path.dirname(sassFileSrc);</span>
<span class="cstat-no" title="statement not covered" >        if (sassFileSrcPath) {</span>
          //Prepend the path to all files in the sources array except the file that's being worked on
<span class="cstat-no" title="statement not covered" >          sourceFileIndex = sassMap.sources.indexOf(sassMapFile);</span>
<span class="cstat-no" title="statement not covered" >          sassMap.sources = sassMap.sources.map(<span class="fstat-no" title="function not covered" >function(source, index) {</span></span>
<span class="cstat-no" title="statement not covered" >            return (index === sourceFileIndex) ? source : path.join(sassFileSrcPath, source);</span>
          });
        }
&nbsp;
        // Remove 'stdin' from souces and replace with filenames!
<span class="cstat-no" title="statement not covered" >        sassMap.sources = sassMap.sources.filter(<span class="fstat-no" title="function not covered" >function(src) {</span></span>
<span class="cstat-no" title="statement not covered" >          if (src !== 'stdin') {</span>
<span class="cstat-no" title="statement not covered" >            return src;</span>
          }
        });
&nbsp;
        // Replace the map file with the original file name (but new extension)
<span class="cstat-no" title="statement not covered" >        sassMap.file = gutil.replaceExtension(sassFileSrc, '.css');</span>
        // Apply the map
<span class="cstat-no" title="statement not covered" >        applySourceMap(file, sassMap);</span>
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      file.contents = sassObj.css;</span>
<span class="cstat-no" title="statement not covered" >      file.path = gutil.replaceExtension(file.path, '.css');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      cb(null, file);</span>
    };
&nbsp;
    //////////////////////////////
    // Handles error message
    //////////////////////////////
<span class="cstat-no" title="statement not covered" >    errorM = <span class="fstat-no" title="function not covered" >function errorM(error) {</span></span>
<span class="cstat-no" title="statement not covered" >      var relativePath = '',</span>
          filePath = error.file === 'stdin' ? file.path : error.file,
          message = '';
&nbsp;
<span class="cstat-no" title="statement not covered" >      filePath = filePath ? filePath : file.path;</span>
<span class="cstat-no" title="statement not covered" >      relativePath = path.relative(process.cwd(), filePath);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      message += gutil.colors.underline(relativePath) + '\n';</span>
<span class="cstat-no" title="statement not covered" >      message += error.formatted;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      error.messageFormatted = message;</span>
<span class="cstat-no" title="statement not covered" >      error.messageOriginal = error.message;</span>
<span class="cstat-no" title="statement not covered" >      error.message = gutil.colors.stripColor(message);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      error.relativePath = relativePath;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      return cb(new gutil.PluginError(</span>
          PLUGIN_NAME, error
        ));
    };
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (sync !== true) {</span>
      //////////////////////////////
      // Async Sass render
      //////////////////////////////
<span class="cstat-no" title="statement not covered" >      callback = <span class="fstat-no" title="function not covered" >function(error, obj) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (error) {</span>
<span class="cstat-no" title="statement not covered" >          return errorM(error);</span>
        }
<span class="cstat-no" title="statement not covered" >        filePush(obj);</span>
      };
&nbsp;
<span class="cstat-no" title="statement not covered" >      gulpSass.compiler.render(opts, callback);</span>
    }
    else {
      //////////////////////////////
      // Sync Sass render
      //////////////////////////////
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        result = gulpSass.compiler.renderSync(opts);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        filePush(result);</span>
      }
      catch (error) {
<span class="cstat-no" title="statement not covered" >        return errorM(error);</span>
      }
    }
  });
};
&nbsp;
//////////////////////////////
// Sync Sass render
//////////////////////////////
gulpSass.sync = <span class="fstat-no" title="function not covered" >function sync(options) {</span>
<span class="cstat-no" title="statement not covered" >  return gulpSass(options, true);</span>
};
&nbsp;
//////////////////////////////
// Log errors nicely
//////////////////////////////
gulpSass.logError = <span class="fstat-no" title="function not covered" >function logError(error) {</span>
<span class="cstat-no" title="statement not covered" >  var message = new gutil.PluginError('sass', error.messageFormatted).toString();</span>
<span class="cstat-no" title="statement not covered" >  process.stderr.write(message + '\n');</span>
<span class="cstat-no" title="statement not covered" >  this.emit('end');</span>
};
&nbsp;
//////////////////////////////
// Store compiler in a prop
//////////////////////////////
gulpSass.compiler = require('node-sass');
&nbsp;
module.exports = gulpSass;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 19:23:03 GMT+0000 (UTC)</div>
</div>
</body>
</html>
